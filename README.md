# SDF Texture Maker for lilToon

VRChatアバター向けlilToonシェーダーで使用するSDFテクスチャを作成するツールです。

## 機能

- **SDF テクスチャ生成**: 左側からの光マスクを元に、liltoon用のSDF（Signed Distance Field）テクスチャを生成
- **チャンネル分離**: Rチャンネル（左光源）、Gチャンネル（右光源）に分けて陰影情報を格納
- **リアルタイムプレビュー**: 元画像、各チャンネル、合成結果を同時確認
- **日本語パス対応**: 日本語を含むファイルパスでも正常に動作
- **自動更新機能**: 入力ファイル変更時の自動再生成（オプション）
- **モダンUI**: CustomTkinterによる黒基調のモダンなインターフェース

## 必要な環境

- Python 3.8以上
- 必要なライブラリ（requirements.txtを参照）

## インストール

```bash
# 依存関係をインストール
pip install -r requirements.txt

# アプリケーションを起動
python main.py
```

## 使用方法

1. **入力画像の選択**: アバターの顔テクスチャを選択
2. **マスク画像の選択**（オプション）: 左側からの光のマスク画像を指定
   - 未指定の場合は自動的にグラデーションマスクを生成
3. **SDF生成**: "SDF テクスチャ生成"ボタンを押して処理実行
4. **プレビュー確認**: 各チャンネルの結果をリアルタイムで確認
5. **保存**: 結果をPNG形式で保存

## SDFテクスチャについて

lilToonシェーダーで使用されるSDFテクスチャは以下の構造になっています：

- **Rチャンネル**: 左側からの光源による陰影情報
- **Gチャンネル**: 右側からの光源による陰影情報（左右反転）
- **Bチャンネル**: 未使用（0に設定）
- **Aチャンネル**: 元画像のアルファ値を保持

## 設定オプション

- **ソフトネス**: デフォルトグラデーションの柔らかさを調整
- **自動更新**: 入力ファイル変更時の自動再生成
- **上書き保存**: 同名ファイルの自動上書き

## ファイル構成

```
SDF_texture_maker/
├── main.py              # メインアプリケーション
├── sdf_processor.py     # SDF処理クラス
├── requirements.txt     # 依存関係
└── README.md           # このファイル
```

## 注意事項

- 入力画像は PNG、JPG、BMP、TIFF、TGA 形式に対応
- 出力は常にPNG形式（アルファチャンネル保持のため）
- 大きな画像の場合、処理に時間がかかる場合があります

## ライセンス

このソフトウェアはMITライセンスの下で提供されています。
